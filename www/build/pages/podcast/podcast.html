<!--
  Generated template for the PodcastPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar dark no-border-bottom>
    <ion-title>Podcast</ion-title>
    <ion-buttons end>
      <button (click)="pause()">
          <ion-icon name="pause"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding class="podcast">
<ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
         pullingIcon="arrow-dropdown"
         pullingText="Pull to refresh"
         refreshingSpinner="circles"
         refreshingText="Refreshing...">
       </ion-refresher-content>
</ion-refresher>
    <ion-list no-lines>
        <audio-track #audio *ngFor="let podcast of podcasts; let i = index" [track]="podcast" (onFinish)="onTrackFinished($event)">
          <ion-item text-wrap>
            <ion-thumbnail item-left>
              <!-- <button clear (click)="toggle(i)" [disabled]="audio.error || audio.isLoading">
                  <ion-icon name="pause" *ngIf="audio.isPlaying && !audio.isLoading"></ion-icon>
                  <ion-icon name="play" *ngIf="!audio.isPlaying && !audio.isLoading"></ion-icon>
                  <ion-spinner *ngIf="audio.isLoading && !audio.error"></ion-spinner>
              </button> -->
              <audio-track-play light [audioTrack]="audio"><ion-spinner></ion-spinner></audio-track-play>
            </ion-thumbnail>
            <div item-content style="width:100%">
              <p><strong>{{podcast.title}}</strong></p>
              <p><em>{{podcast.description}}</em></p>
              <audio-track-progress-bar duration progress [audioTrack]="audio"></audio-track-progress-bar>
              <!-- <em style="font-size:.5em">Track ID: {{audio.id}}</em> The #audio above makes audio the actual audio track so you can access id-->
            </div>
          </ion-item>
        </audio-track>
      </ion-list>

</ion-content>
