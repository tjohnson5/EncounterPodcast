<ion-header>
  <ion-toolbar dark no-border-bottom>
    <ion-title>Event Registration</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding class="register">
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content
             pullingIcon="arrow-dropdown"
             pullingText="Pull to refresh"
             refreshingSpinner="circles">
           </ion-refresher-content>
    </ion-refresher>
    <ion-list no-lines>
        <ion-item *ngFor="let event of events" text-wrap>
            <ion-card>
                <ion-card-header>
                    {{event.title}}
                </ion-card-header>
                <img src='{{event.imageURL}}'/>
                <ion-card-content>
                    {{event.desc}}
                </ion-card-content>
                <ion-buttons end>
                      <button block primary *ngIf="isNotRegistered(event.id)" (click)="submitToSheet(event.title, event.id)">Register</button>
                      <button block primary *ngIf="!isNotRegistered(event.id) && !isSudentProfileBlank()" disabled>Registered!</button>
                      <button block primary *ngIf="!isNotRegistered(event.id) && isSudentProfileBlank()" disabled>Profile Empty</button>
                </ion-buttons>

            </ion-card>
        </ion-item>
    </ion-list>
</ion-content>
